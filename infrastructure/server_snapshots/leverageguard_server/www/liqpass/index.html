<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LiqPass PL Flow Demo</title>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <style>
      body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
    </style>
  </head>
  <body class="bg-slate-950 text-white">
    <div id="root"></div>

    <script type="module">
      import React, { useCallback, useEffect, useMemo, useState } from "https://esm.sh/react@18.2.0";
      import { createRoot } from "https://esm.sh/react-dom@18.2.0/client";
      import {
        Calculator,
        Upload,
        ListChecks,
        Hash,
        Languages,
        Rocket,
        Shield,
        CheckCircle2
      } from "https://esm.sh/lucide-react@0.323.0";

      const DICT = {
        zh: {
          brand: "LiqPass",
          chain: "Base Mainnet",
          tab_ux: "OKX 合约险 · UX",
          tab_quote: "报价（P/L→保费/赔付）",
          tab_claim: "爆仓证据上传",
          tab_attest: "上链存证",
          tab_status: "链上状态",
          lang: "中",
          hero_title: "输入 P / L 出报价 → 上传爆仓证据 → 上链存证 → 查看状态",
          hero_sub: "仅围绕 本金 / 杠杆 / 保费 / 赔付额；无按时段 SKU。演示可审计的上链存证路径。",
          pill_base: "Base 主网",
          pill_okx: "OKX · 首发",

          quote_title: "报价计算（仅演示）",
          principal: "本金 (USDT)",
          leverage: "杠杆 (×，≤100)",
          btn_get_quote: "生成报价",
          premium: "保费",
          payout: "赔付额",
          premium_ratio: "保费比例",
          payout_ratio: "赔付比例",
          quote_id: "报价编号",
          valid_until: "有效期（10 分钟）",
          pricing_ver: "价格版本",
          err_range: "本金需在 50–500 USDT，杠杆需在 1–100。",

          claim_title: "上传爆仓证据（OKX / JSON）",
          choose_sample: "选择示例",
          sample_none: "不使用示例",
          sample_okx_liq: "示例：OKX 爆仓（LINK-USDT 强平）",
          sample_binance_liq: "示例：币安爆仓（BTCUSDT 强平）",
          or_paste: "或粘贴 JSON 文本",
          btn_validate: "校验证据",
          validation_result: "校验结果",
          order_id_label: "订单号",
          order_id_placeholder: "请输入与交易所一致的订单号",
          pass: "通过",
          fail: "失败",
          claim_highlights: [
            {
              title: "申诉",
              desc: "触发仲裁或人工复核；与链上记录保持一致，确保申诉闭环。",
            },
            {
              title: "订单号",
              desc: "请填写交易所原始订单号，便于匹配 Merkle proof 与订单指纹。",
            },
            {
              title: "凭证材料",
              desc: "上传 CSV/JSON 或截图提取的最小字段，支持本地验证器重新补交。",
            },
          ],

          attest_title: "上链存证（生成 Root & 模拟 Tx）",
          btn_build_root: "生成 Root",
          btn_attest: "提交存证 (Mock)",
          root: "Merkle Root (演示)",
          txhash: "交易哈希 (模拟)",

          status_title: "最近存证（演示数据）",

          steps_title: "用户路径（UX Flow）",
          s1: { title: "报价", body: "输入本金与杠杆，计算保费/赔付额，生成 quote_id。" },
          s2: { title: "申赔", body: "出现强平/ADL 时，上传样例或 JSON，自动校验关键信息。" },
          s3: { title: "存证", body: "对关键字段做哈希合成 Root，上链记录（本页为演示模拟）。" },
          s4: { title: "状态", body: "公开最近 N 笔 root/tx，评审可一键核对。" },

          disclaimer:
            "免责声明：本页面为演示 UX，不构成任何投资建议；样例数据与上链交易均为模拟，不涉及真实赔付。",
        },
        en: {
          brand: "LiqPass",
          chain: "Base Mainnet",
          tab_ux: "OKX Insurance · UX",
          tab_quote: "Quote (P/L → Premium/Payout)",
          tab_claim: "Liquidation Evidence",
          tab_attest: "Attest",
          tab_status: "Status",
          lang: "EN",
          hero_title:
            "Enter P/L → Upload Liq Evidence → On-chain Attestation → View Status",
          hero_sub:
            "Only Principal / Leverage / Premium / Payout. No time-based SKUs. Auditable attestation demo.",
          pill_base: "Base Mainnet",
          pill_okx: "OKX · First Launch",

          quote_title: "Quote (Demo)",
          principal: "Principal (USDT)",
          leverage: "Leverage (×, ≤100)",
          btn_get_quote: "Get Quote",
          premium: "Premium",
          payout: "Payout",
          premium_ratio: "Premium Ratio",
          payout_ratio: "Payout Ratio",
          quote_id: "Quote ID",
          valid_until: "Valid Until (10 min)",
          pricing_ver: "Pricing Version",
          err_range: "Principal must be 50–500 USDT and leverage must be 1–100.",

          claim_title: "Upload Liquidation Evidence (OKX / JSON)",
          choose_sample: "Choose Sample",
          sample_none: "No Sample",
          sample_okx_liq: "Sample: OKX Liquidation (LINK-USDT)",
          sample_binance_liq: "Sample: Binance Liquidation (BTCUSDT)",
          or_paste: "or paste JSON text",
          btn_validate: "Validate Evidence",
          validation_result: "Validation Result",
          order_id_label: "Order ID",
          order_id_placeholder: "Enter the exact exchange order ID",
          pass: "PASS",
          fail: "FAIL",
          claim_highlights: [
            {
              title: "Appeal",
              desc: "Trigger arbitration or manual review to close the loop with on-chain records.",
            },
            {
              title: "Order ID",
              desc: "Provide the original exchange order ID to match Merkle proof and trade fingerprint.",
            },
            {
              title: "Evidence",
              desc: "Upload CSV/JSON or extracted minimal fields; local validator can resubmit as needed.",
            },
          ],

          attest_title: "Attestation (Build Root & Mock Tx)",
          btn_build_root: "Build Root",
          btn_attest: "Submit Attestation (Mock)",
          root: "Merkle Root (Demo)",
          txhash: "Tx Hash (Mock)",

          status_title: "Recent Attestations (Demo)",

          steps_title: "User Flow",
          s1: {
            title: "Quote",
            body:
              "Enter principal & leverage → compute premium/payout & quote_id.",
          },
          s2: {
            title: "Claim",
            body:
              "When liquidation/ADL occurs, upload sample or JSON to auto-validate.",
          },
          s3: {
            title: "Attest",
            body: "Hash key fields to form a Root; record on-chain (mock here).",
          },
          s4: { title: "Status", body: "Expose latest root/tx for auditability." },

          disclaimer:
            "Disclaimer: Demo UX only. Not financial advice; samples & on-chain tx are mocked with no real payout.",
        },
      };

      const SAMPLE_OKX_LIQ = {
        exchange: "OKX",
        pair: "LINK-USDT-SWAP",
        event: "LIQUIDATION",
        side: "LONG",
        quantity: 176,
        price: 13.516,
        timestamp: "2024-05-02T13:30:50Z",
      };

      const SAMPLE_BINANCE_LIQ = {
        exchange: "BINANCE",
        pair: "BTCUSDT-PERP",
        event: "LIQUIDATION",
        side: "LONG",
        quantity: 3,
        price: 61000.5,
        timestamp: "2024-05-02T13:31:12Z",
      };

      function classNames(...a) {
        return a.filter(Boolean).join(" ");
      }

      async function sha256Hex(text) {
        const enc = new TextEncoder();
        const data = enc.encode(text);
        const digest = await crypto.subtle.digest("SHA-256", data);
        return [...new Uint8Array(digest)]
          .map((b) => b.toString(16).padStart(2, "0"))
          .join("");
      }

      const QUOTE_TTL_MIN = 10;
      const LEVERAGE_MAX = 100;

      function calcPremium(principal, leverage) {
        const baseRatio = 0.05 + (leverage - 20) * 0.001 + (principal / 500) * 0.02;
        const premiumRatio = Math.min(0.15, baseRatio);
        return { premium: +(premiumRatio * principal).toFixed(2), premiumRatio: +premiumRatio.toFixed(4) };
      }

      function calcPayoutRatio(principal, leverage) {
        const baseRatio = 0.25 + (leverage - 50) * 0.005 - (principal / 500) * 0.1;
        return Math.min(0.5, Math.max(0.1, baseRatio));
      }

      function calcPayout(principal, leverage) {
        const ratio = calcPayoutRatio(principal, leverage);
        return { payout: +(ratio * principal).toFixed(2), payoutRatio: +ratio.toFixed(4) };
      }

      const motion = {
        div: function MotionDiv(props) {
          const { children, initial, animate, transition, exit, ...rest } = props;
          return React.createElement("div", rest, children);
        }
      };

      function LiqPassPLFlow() {
        const [lang, setLang] = useState("zh");
        const t = DICT[lang];
        const [active, setActive] = useState("ux");

        const [principal, setPrincipal] = useState(500);
        const [leverage, setLeverage] = useState(10);
        const [quote, setQuote] = useState(null);
        const [quoteErr, setQuoteErr] = useState("");

        const [sample, setSample] = useState("none");
        const [jsonText, setJsonText] = useState("");
        const [claimRes, setClaimRes] = useState(null);
        const [orderId, setOrderId] = useState("");

        const [root, setRoot] = useState("");
        const [tx, setTx] = useState("");
        const [status, setStatus] = useState([
          {
            when: "2025-10-11 05:30:57 UTC",
            root: "0xb815fb0e7b1a244c84e366fe6203adb963122ef7379d7ad9b2411240639900ff",
            tx: "0x27fd052c9450674457ad5f7f560fc2ea8fbe78534653b70f409a9d633720853e",
            order: "wjz5788.com demo"
          }
        ]);

        const PRICING_VERSION = "pl-formula-v1";

        const computeQuote = useCallback((P, L) => {
          const { premium, premiumRatio } = calcPremium(P, L);
          const { payout, payoutRatio } = calcPayout(P, L);
          const quoteId = `Q-${Date.now()}-${Math.floor(Math.random() * 1000)}`;
          const validTs = Date.now() + QUOTE_TTL_MIN * 60 * 1000;
          const valid = new Date(validTs).toLocaleString();
          return { payout, premium, premiumRatio, payoutRatio, quoteId, valid, validTs, pricingVersion: PRICING_VERSION };
        }, []);

        const handleGetQuote = useCallback(() => {
          const P = Number(principal), L = Number(leverage);
          if (!Number.isFinite(P) || !Number.isFinite(L) || P < 50 || P > 500 || L < 1 || L > LEVERAGE_MAX) {
            setQuote(null);
            setQuoteErr(t.err_range);
            return;
          }
          setQuoteErr("");
          const q = computeQuote(P, L);
          setQuote(q);
        }, [principal, leverage, computeQuote, t.err_range]);

        const buildEvidenceSummary = useCallback(() => {
          const evidence =
            sample === "okx_liq" ? SAMPLE_OKX_LIQ : sample === "binance_liq" ? SAMPLE_BINANCE_LIQ
              : (() => {
                  try {
                    return JSON.parse(jsonText || "{}");
                  } catch {
                    return {};
                  }
                })();
          return {
            order_id: orderId || quote?.quoteId || `DEMO-${Date.now()}`,
            principal: Number(principal || 0),
            leverage: Number(leverage || 0),
            payout: quote?.payout ?? calcPayout(Number(principal||0), Number(leverage||0)).payout,
            premium: quote?.premium ?? calcPremium(Number(principal||0), Number(leverage||0)).premium,
            pricing_version: PRICING_VERSION,
            evidence,
          };
        }, [sample, jsonText, orderId, quote, principal, leverage]);

        const handleValidate = useCallback(async () => {
          const summary = buildEvidenceSummary();
          const input = JSON.stringify(summary);
          const proof = await sha256Hex(input);
          const ok = summary.evidence?.event === "LIQUIDATION";
          setClaimRes({
            res: { ok, proof },
            summary,
          });
        }, [buildEvidenceSummary]);

        const handleBuildRoot = useCallback(async () => {
          if (!claimRes) {
            const summary = buildEvidenceSummary();
            const proof = await sha256Hex(JSON.stringify(summary));
            setClaimRes({ res: { ok: true, proof }, summary });
            setRoot(proof);
            return;
          }
          const leaf = JSON.stringify(claimRes.summary);
          const newRoot = await sha256Hex(leaf + Date.now());
          setRoot(newRoot);
        }, [claimRes, buildEvidenceSummary]);

        const handleAttest = useCallback(async () => {
          if (!root) return;
          const mockTx = await sha256Hex(root + Math.random());
          setTx(mockTx);
          setStatus((prev) => [
            {
              when: new Date().toISOString(),
              root,
              tx: mockTx,
              order: claimRes?.summary?.order_id ?? "demo-order",
            },
            ...prev.slice(0, 4),
          ]);
        }, [root, claimRes]);

        const Tab = ({ id, label, icon: Icon }) => (
          React.createElement("button", {
              onClick: () => setActive(id),
              className: classNames(
                "inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm",
                active === id
                  ? "bg-white/90 text-slate-900"
                  : "bg-white/10 text-white hover:bg-white/20"
              )
            },
            Icon && React.createElement(Icon, { size: 16 }),
            " ",
            label
          )
        );

        const Stat = ({ label, value }) => (
          React.createElement("div", { className: "flex flex-col p-4 rounded-2xl bg-white/5 border border-white/10" },
            React.createElement("div", { className: "text-xs text-white/60" }, label),
            React.createElement("div", { className: "text-lg font-semibold mt-1" }, value)
          )
        );

        const StepCard = ({ idx, title, body, icon: Icon }) => (
          React.createElement("div", { className: "p-5 rounded-2xl bg-white/5 border border-white/10 h-full" },
            React.createElement("div", { className: "flex items-center gap-2 text-white/80 text-xs tracking-wide" },
              React.createElement("span", { className: "px-2 py-0.5 rounded-full bg-white/10" }, `STEP ${idx}`)
            ),
            React.createElement("div", { className: "flex items-center gap-2 mt-3" },
              Icon && React.createElement(Icon, { size: 18, className: "text-white/80" }),
              React.createElement("div", { className: "font-semibold" }, title)
            ),
            React.createElement("div", { className: "text-sm text-white/70 mt-2 leading-relaxed" }, body)
          )
        );

        return React.createElement(React.Fragment, null,
          React.createElement("div", { className: "relative min-h-screen bg-slate-950 text-white" },
            React.createElement("div", { className: "absolute inset-0 -z-10 bg-gradient-to-br from-indigo-900/40 via-slate-900 to-slate-950" }),
            React.createElement("div", { className: "max-w-6xl mx-auto px-4 pt-6" },
            React.createElement("div", { className: "flex items-center justify-between" },
              React.createElement("div", { className: "flex items-center gap-2" },
                React.createElement(Shield, { className: "text-indigo-300" }),
                React.createElement("div", { className: "font-semibold" },
                  `${t.brand} `,
                  React.createElement("span", { className: "text-white/50" }, `(${t.chain})`)
                )
              ),
              React.createElement("div", { className: "flex items-center gap-2" },
                React.createElement("span", { className: "px-3 py-1 rounded-full text-xs bg-emerald-400/15 text-emerald-300 border border-emerald-400/20" }, t.pill_base),
                React.createElement("span", { className: "px-3 py-1 rounded-full text-xs bg-violet-400/15 text-violet-300 border border-violet-400/20" }, t.pill_okx),
                React.createElement("button", {
                    onClick: () => setLang(lang === "zh" ? "en" : "zh"),
                    className: "ml-2 px-3 py-1 rounded-full text-xs bg-white/10 hover:bg-white/20"
                  },
                  React.createElement(Languages, { size: 14, className: "inline mr-1" }),
                  t.lang
                )
              )
            ),
            React.createElement("div", { className: "flex flex-wrap gap-2 mt-5" },
              React.createElement(Tab, { id: "ux", label: t.tab_ux, icon: Rocket }),
              React.createElement(Tab, { id: "quote", label: t.tab_quote, icon: Calculator }),
              React.createElement(Tab, { id: "claim", label: t.tab_claim, icon: Upload }),
              React.createElement(Tab, { id: "attest", label: t.tab_attest, icon: Hash }),
              React.createElement(Tab, { id: "status", label: t.tab_status, icon: ListChecks })
            )
          ),
          React.createElement("div", { className: "max-w-6xl mx-auto px-4 mt-10" },
            React.createElement(motion.div, {
                initial: { opacity: 0, y: 12 },
                animate: { opacity: 1, y: 0 },
                className: "rounded-3xl p-8 bg-white/5 border border-white/10"
              },
              React.createElement("div", { className: "text-2xl md:text-3xl font-semibold tracking-wide" }, t.hero_title),
              React.createElement("div", { className: "text-white/70 mt-2" }, t.hero_sub)
            )
          ),
          React.createElement("div", { className: "max-w-6xl mx-auto px-4 mt-8 pb-20" },
            active === "ux" && React.createElement("div", null,
              React.createElement("div", { className: "text-white/80 tracking-wide font-semibold mb-3" }, t.steps_title),
              React.createElement("div", { className: "grid md:grid-cols-4 gap-4" },
                React.createElement(StepCard, { idx: 1, title: t.s1.title, body: t.s1.body, icon: Calculator }),
                React.createElement(StepCard, { idx: 2, title: t.s2.title, body: t.s2.body, icon: Upload }),
                React.createElement(StepCard, { idx: 3, title: t.s3.title, body: t.s3.body, icon: Hash }),
                React.createElement(StepCard, { idx: 4, title: t.s4.title, body: t.s4.body, icon: ListChecks })
              )
            ),
            active === "quote" && React.createElement(motion.div, {
                initial: { opacity: 0, y: 8 },
                animate: { opacity: 1, y: 0 },
                className: "grid md:grid-cols-2 gap-6"
              },
              React.createElement("div", { className: "p-6 rounded-3xl bg-white/5 border border-white/10" },
                React.createElement("div", { className: "text-lg font-semibold mb-4" }, t.quote_title),
                React.createElement("label", { className: "block text-sm text-white/70 mb-2" }, t.principal),
                React.createElement("input", {
                  type: "number",
                  value: principal,
                  onChange: (e) => setPrincipal(e.target.value),
                  className: "w-full bg-white/5 border border-white/10 rounded-xl p-3 mb-3"
                }),
                React.createElement("label", { className: "block text-sm text-white/70 mb-2" }, t.leverage),
                React.createElement("input", {
                  type: "number",
                  value: leverage,
                  onChange: (e) => setLeverage(e.target.value),
                  className: "w-full bg-white/5 border border-white/10 rounded-xl p-3 mb-3"
                }),
                React.createElement("button", {
                  onClick: handleGetQuote,
                  className: "w-full px-4 py-3 rounded-xl bg-indigo-500 hover:bg-indigo-600 font-semibold"
                }, t.btn_get_quote),
                quoteErr && React.createElement("div", { className: "text-rose-300 text-sm mt-3" }, quoteErr)
              ),
              React.createElement("div", { className: "p-6 rounded-3xl bg-white/5 border border-white/10" },
                React.createElement("div", { className: "text-lg font-semibold mb-4" }, t.quote_title),
                React.createElement("div", { className: "grid grid-cols-2 gap-4" },
                  React.createElement(Stat, { label: t.premium, value: quote ? `${quote.premium} USDT` : "-" }),
                  React.createElement(Stat, { label: t.payout, value: quote ? `${quote.payout} USDT` : "-" }),
                  React.createElement(Stat, { label: t.premium_ratio, value: quote ? `${(quote.premiumRatio*100).toFixed(2)}%` : "-" }),
                  React.createElement(Stat, { label: t.payout_ratio, value: quote ? `${(quote.payoutRatio*100).toFixed(2)}%` : "-" }),
                  React.createElement(Stat, { label: t.quote_id, value: quote?.quoteId || "-" }),
                  React.createElement(Stat, { label: t.pricing_ver, value: quote?.pricingVersion || "-" }),
                  React.createElement(Stat, { label: t.valid_until, value: quote?.valid || "-" })
                )
              )
            ),
            active === "claim" && React.createElement(motion.div, {
                initial: { opacity: 0, y: 8 },
                animate: { opacity: 1, y: 0 },
                className: "p-6 rounded-3xl bg-white/5 border border-white/10"
              },
              React.createElement("div", { className: "text-lg font-semibold mb-4" }, t.claim_title),
              React.createElement("div", { className: "grid md:grid-cols-2 gap-4 items-start" },
                React.createElement("div", null,
                  React.createElement("label", { className: "block text-sm text-white/70 mb-2" }, t.choose_sample),
                  React.createElement("select", {
                    className: "w-full bg-white/5 border border-white/10 rounded-xl p-3",
                    value: sample,
                    onChange: (e) => setSample(e.target.value)
                  },
                    React.createElement("option", { value: "none" }, t.sample_none),
                    React.createElement("option", { value: "okx_liq" }, t.sample_okx_liq),
                    React.createElement("option", { value: "binance_liq" }, t.sample_binance_liq)
                  )
                ),
                React.createElement("div", { className: "md:col-span-1" },
                  React.createElement("label", { className: "block text-sm text-white/70 mb-2" }, t.order_id_label),
                  React.createElement("div", { className: "p-4 rounded-2xl bg-white/5 border border-white/10" },
                    React.createElement("input", {
                      type: "text",
                      className: "w-full bg-white/5 border border-white/10 rounded-xl p-3",
                      value: orderId,
                      onChange: (e)=>setOrderId(e.target.value),
                      placeholder: t.order_id_placeholder
                    }),
                    React.createElement("button", {
                      onClick: handleValidate,
                      className: "mt-3 px-4 py-2 rounded-xl bg-indigo-500 hover:bg-indigo-600 font-medium"
                    }, t.btn_validate),
                    React.createElement("div", { className: "text-xs text-white/60 mt-2" },
                      `${sample === "okx_liq" ? "OKX" : sample === "binance_liq" ? "BINANCE" : "—"} · ${t.order_id_label}`
                    )
                  )
                )
              ),
              claimRes && React.createElement("div", { className: "mt-6 grid md:grid-cols-2 gap-4" },
                React.createElement("div", { className: "p-4 rounded-2xl bg-white/5 border border-white/10" },
                  React.createElement("div", { className: "text-sm text-white/60 mb-2" }, t.validation_result),
                  React.createElement("div", {
                      className: classNames(
                        "inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm",
                        claimRes.res.ok ? "bg-emerald-400/20 text-emerald-300" : "bg-rose-400/20 text-rose-300"
                      )
                    },
                    React.createElement(CheckCircle2, { size: 16 }),
                    claimRes.res.ok ? t.pass : t.fail
                  ),
                  React.createElement("pre", { className: "mt-3 text-xs text-white/70 whitespace-pre-wrap" },
                    JSON.stringify(claimRes.summary, null, 2)
                  )
                ),
                React.createElement("div", { className: "p-4 rounded-2xl bg-white/5 border border-white/10" },
                  React.createElement("div", { className: "text-sm text-white/60 mb-2" }, t.attest_title),
                  React.createElement("div", { className: "flex flex-wrap gap-2" },
                    React.createElement("button", {
                      onClick: handleBuildRoot,
                      className: "px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20"
                    }, t.btn_build_root),
                    React.createElement("button", {
                      onClick: handleAttest,
                      className: "px-3 py-2 rounded-xl bg-indigo-500 hover:bg-indigo-600"
                    }, t.btn_attest)
                  ),
                  React.createElement("div", { className: "mt-3 text-xs break-all" },
                    React.createElement("span", { className: "text-white/60 mr-2" }, `${t.root}:`),
                    root || "-"
                  ),
                  React.createElement("div", { className: "mt-2 text-xs break-all" },
                    React.createElement("span", { className: "text-white/60 mr-2" }, `${t.txhash}:`),
                    tx || "-"
                  )
                )
              ),
              React.createElement("div", { className: "mt-6 grid md:grid-cols-3 gap-4" },
                t.claim_highlights.map((item, idx) => (
                  React.createElement("div", {
                      key: idx,
                      className: "rounded-3xl border border-rose-500/70 bg-rose-500/10 px-6 py-5 shadow-inner shadow-rose-500/10"
                    },
                    React.createElement("div", { className: "text-base font-semibold text-rose-200 mb-2" }, item.title),
                    React.createElement("div", { className: "text-xs leading-relaxed text-rose-100/80" }, item.desc)
                  )
                ))
              )
            ),
            active === "attest" && React.createElement(motion.div, {
                initial: { opacity: 0, y: 8 },
                animate: { opacity: 1, y: 0 },
                className: "p-6 rounded-3xl bg-white/5 border border-white/10"
              },
              React.createElement("div", { className: "text-lg font-semibold mb-4" }, t.attest_title),
              React.createElement("div", { className: "text-sm text-white/70 mb-3" },
                `${t.root}: `,
                React.createElement("span", { className: "text-white break-all" }, root || "-")
              ),
              React.createElement("div", { className: "text-sm text-white/70 mb-6" },
                `${t.txhash}: `,
                React.createElement("span", { className: "text-white break-all" }, tx || "-")
              ),
              React.createElement("div", { className: "flex gap-2" },
                React.createElement("button", {
                  className: "px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20",
                  onClick: handleBuildRoot
                }, t.btn_build_root),
                React.createElement("button", {
                  className: "px-4 py-2 rounded-xl bg-indigo-500 hover:bg-indigo-600",
                  onClick: handleAttest
                }, t.btn_attest)
              )
            ),
            active === "status" && React.createElement(motion.div, {
                initial: { opacity: 0, y: 8 },
                animate: { opacity: 1, y: 0 }
              },
              React.createElement("div", { className: "text-lg font-semibold mb-4" }, t.status_title),
              React.createElement("div", { className: "text-xs text-white/60 mb-3" },
                "Demo: ",
                React.createElement("a", { href: "https://wjz5788.com/attest/", target: "_blank", rel: "noreferrer", className: "underline" }, "wjz5788.com/attest")
              ),
              React.createElement("div", { className: "grid gap-3" },
                status.length === 0 && React.createElement("div", { className: "text-white/60 text-sm" }, "—"),
                status.map((it, idx) =>
                  React.createElement("div", { key: idx, className: "p-4 rounded-2xl bg-white/5 border border-white/10" },
                    React.createElement("div", { className: "text-xs text-white/60" }, it.when),
                    React.createElement("div", { className: "text-sm mt-1" },
                      React.createElement("span", { className: "text-white/60 mr-2" }, "Root:"),
                      React.createElement("span", { className: "break-all" }, it.root)
                    ),
                    React.createElement("div", { className: "text-sm" },
                      React.createElement("span", { className: "text-white/60 mr-2" }, "Tx:"),
                      React.createElement("span", { className: "break-all" }, it.tx)
                    ),
                    React.createElement("div", { className: "text-sm text-white/70" },
                      React.createElement("span", { className: "text-white/60 mr-2" }, "Order:"),
                      it.order
                    )
                  )
                )
              )
            )
          ),
          React.createElement("div", { className: "mt-12 text-xs text-white/50 text-center pb-8" }, t.disclaimer)
        );
      }

      const root = createRoot(document.getElementById("root"));
      root.render(React.createElement(LiqPassPLFlow));
    </script>
  </body>
</html>
