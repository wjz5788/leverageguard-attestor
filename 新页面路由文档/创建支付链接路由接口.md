# 创建支付链接路由接口文档

## 基本信息
- **页面名称**: 创建支付链接 (CreateLink)
- **路由路径**: `/links/create`
- **组件文件**: `/src/pages/CreateLink.tsx`
- **页面类型**: 表单页面

## 路由配置
```typescript
<Route path="/links/create" element={<CreateLink t={zh} />} />
```

## 页面功能
- 高级支付链接创建表单
- 实时预览生成的支付链接
- 表单验证和错误提示
- 保存和发布支付链接

## 接口定义

### Props 接口
```typescript
interface CreateLinkProps {
  t: Dictionary;
}
```

### 表单状态
```typescript
interface FormData {
  product: string;         // 产品类型 (24h, 7d, 30d)
  symbol: string;          // 交易对 (BTCUSDT, ETHUSDT, SOLUSDT)
  amount: string;          // 金额 (字符串类型，用于输入框)
  duration: string;        // 持续时间 (字符串类型，用于输入框)
}
```

### 组件状态
- `formData`: FormData - 表单数据
- `address`: string - 钱包地址 (从WalletContext获取)

### 主要方法
1. `handleInputChange(field: string, value: string)` - 处理输入变化
2. `handleCreateLink()` - 创建并复制链接，成功后导航到链接列表页
3. `buildLink()` - 构建支付链接 (工具函数，位于utils.ts)

## 依赖组件
- `Card` - 卡片组件
- `Button` - 按钮组件
- `Input` - 输入框组件
- `Select` - 下拉选择组件
- `Breadcrumb` - 面包屑导航

## 上下文依赖
- `WalletContext` - 钱包连接状态
- `ToastContext` - 消息提示

## 国际化文本
使用 `zh` 字典中的以下字段：
- `createLink.title` - 页面标题
- `createLink.formLabels` - 表单标签
- `createLink.placeholders` - 输入框占位符
- `createLink.validation` - 验证错误消息
- `createLink.buttons` - 按钮文本

## 页面布局
- **左侧**: 创建表单区域
- **右侧**: 实时预览区域
- **表单字段**: 
  - 产品类型选择
  - 交易对输入
  - 金额设置
  - 持续时间设置
  - 自定义名称（可选）
  - 描述（可选）

## 表单验证规则
1. 产品类型: 必填，从预定义选项中选择 (24h, 7d, 30d)
2. 交易对: 必填，从预定义选项中选择 (BTCUSDT, ETHUSDT, SOLUSDT)
3. 金额: 必填，字符串类型，需转换为数字验证大于0
4. 持续时间: 必填，字符串类型，需转换为数字验证大于0

## 数据处理
- 表单提交前进行字段验证
- 金额和时长从字符串转换为数字
- 使用 `buildLink` 工具函数构建支付链接
- 成功创建后复制到剪贴板并导航到链接列表页
- 失败时显示错误提示

## 响应式设计
- 移动端: 单列布局，表单和预览上下排列
- 桌面端: 双列布局，表单和预览并排显示

## 注意事项
- 需要钱包连接才能创建支付链接
- 表单数据实时验证
- 预览链接实时更新
- 支持表单重置功能